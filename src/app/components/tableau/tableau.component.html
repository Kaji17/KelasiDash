<div>
  <p-table
  [scrollable]="true" [tableStyle]="{'min-width': '60rem'}"
    #dt1
    [value]="LisTransaction"
    dataKey="id"
    [rows]="10"
    [showCurrentPageReport]="true"
    [rowsPerPageOptions]="[10, 25, 50]"
    [loading]="loading"
    [paginator]="true"
    currentPageReportTemplate="{first} to {last} of {totalRecords}"
        [globalFilterFields]="[
      'name',
      'country.name',
      'representative.name',
      'status'
    ]"
  >
    <!-- EN TETE -->
    <ng-template pTemplate="caption">
      <div class="flex justify-between items-center">
        <!-- BOUTTON CLEAR DE SUPPRESSION DES FILTRES -->
        <button
          pButton
          label="Clear"
          class="p-button-outlined"
          icon="pi pi-filter-slash"
          (click)="clear(dt1)"
        ></button>
        <div class="flex">
          <span>
            <p>Trouvé: {{ founded }}</p>
          </span>

          <!-- BOUTTON DOWNLOAD -->
          <p-button
            icon="pi pi-download"
            class="btnDownLoad flex items-center"
            [style]="{ padding: '0' }"
          ></p-button>
        </div>

        <!-- CHAMPS DE RECHERCHE PAR MOT CLE -->
        <span class="p-input-icon-left">
          <i class="pi pi-search"></i>
          <input
            pInputText
            type="text"
            [(ngModel)]="matricule"
            placeholder="Search Matricule"
          />
        </span>
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th>
          <div class="flex align-items-center">
            Matricule
            <p-columnFilter
              type="text"
              field="name"
              display="menu"
            ></p-columnFilter>
          </div>
        </th>
        <th>
          <div class="flex align-items-center">
            ID Transaction
            <p-columnFilter
              type="text"
              field="country.name"
              display="menu"
            ></p-columnFilter>
          </div>
        </th>
        <th>
          <div class="flex align-items-center">
            Numéro
            <p-columnFilter
              type="text"
              field="country.name"
              display="menu"
            ></p-columnFilter>
          </div>
        </th>
        <th>
          <div class="flex align-items-center">
            Date
            <p-columnFilter
              type="date"
              field="date"
              display="menu"
            ></p-columnFilter>
          </div>
        </th>
        <th>
          <div class="flex align-items-center">
            Examen
            <p-columnFilter field="examen" matchMode="equals" display="menu">
              <ng-template
                pTemplate="filter"
                let-value
                let-filter="filterCallback"
              >
                <p-dropdown
                  [ngModel]="value"
                  [options]="examens"
                  (onChange)="filter($event.value)"
                  placeholder="Any"
                >
                  <ng-template let-option pTemplate="item">
                    <p-tag
                      [value]="option.value"
                      [severity]="getSeverity(option.label)"
                    ></p-tag>
                  </ng-template>
                </p-dropdown>
              </ng-template>
            </p-columnFilter>
          </div>
        </th>

        <th>
          <div class="flex align-items-center">
            Device
            <p-columnFilter field="device" matchMode="equals" display="menu">
              <ng-template
                pTemplate="filter"
                let-value
                let-filter="filterCallback"
              >
                <p-dropdown
                  [ngModel]="value"
                  [options]="device"
                  (onChange)="filter($event.value)"
                  placeholder="Any"
                >
                  <!-- <ng-template let-option pTemplate="item">
                                        <p-tag [value]="option.value" [severity]="getSeverity(option.label)"></p-tag>
                                    </ng-template> -->
                </p-dropdown>
              </ng-template>
            </p-columnFilter>
          </div>
        </th>

        <th>
          <div class="flex align-items-center">
            Cout
            <p-columnFilter
              type="numeric"
              field="balance"
              display="menu"
              currency="XOF"
            ></p-columnFilter>
          </div>
        </th>

        <th>
          <div class="flex align-items-center">
            Mode de paiement
            <p-columnFilter field="device" matchMode="equals" display="menu">
              <ng-template
                pTemplate="filter"
                let-value
                let-filter="filterCallback"
              >
                <p-dropdown
                  [ngModel]="value"
                  [options]="device"
                  (onChange)="filter($event.value)"
                  placeholder="Any"
                >
                  <!-- <ng-template let-option pTemplate="item">
                                        <p-tag [value]="option.value" [severity]="getSeverity(option.label)"></p-tag>
                                    </ng-template> -->
                </p-dropdown>
              </ng-template>
            </p-columnFilter>
          </div>
        </th>
        <th>
          <div class="flex align-items-center">
            Statut
            <p-columnFilter
              type="boolean"
              field="verified"
              display="menu"
            ></p-columnFilter>
          </div>
        </th>
        <th></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-transaction>
      <tr>
        <td>
          {{ transaction.matricule }}
        </td>
        <td>
          {{ transaction.idtransaction }}
        </td>
        <td>
          {{ transaction.numero }}
        </td>
        <td>
          {{ transaction.date | date : "MM/dd/yyyy HH:mm" }}
        </td>
        <td>
          <p-tag
            [value]="transaction.examen"
            [severity]="getSeverity(transaction.examen)"
          ></p-tag>
        </td>
        <td>
          {{ transaction.device }}
        </td>
        <td>
          {{ transaction.cout }}
        </td>
        <td>
          {{ transaction.modepaiement }}
        </td>
        <td class="text-center">
          <i
            class="pi"
            [ngClass]="{
              'text-[#39A74B]-500 pi-check-circle': transaction.verified,
              'text-[#EE6060]-500 pi-times-circle': !transaction.verified
            }"
          ></i>
        </td>

        <td class="text-center">see more</td>
      </tr>
    </ng-template>
    <!-- <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="7">No customers found.</td>
      </tr>
    </ng-template> -->
  </p-table>
</div>
